# ============================================
# Configuración Principal de la Aplicación
# ============================================
# Este archivo contiene la configuración base
# Los perfiles específicos sobrescriben estos valores

# ---- Perfil Activo ----
# Cambiar según el ambiente: dev, prod
# También se puede configurar via variable de entorno: SPRING_PROFILES_ACTIVE
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# ---- Application Name ----
spring.application.name=cliente-app

# ---- Server ----
server.port=${SERVER_PORT:8080}

# ---- Datasource ----
# NOTA: Estos valores serán sobrescritos por los perfiles específicos
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/clienteapp}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:postgres}
spring.datasource.driver-class-name=org.postgresql.Driver

# ---- JPA/Hibernate ----
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.open-in-view=false

# ---- Gemini API ----
gemini.api.key=${GEMINI_API_KEY}
gemini.api.host=https://generativelanguage.googleapis.com

# ---- Application ----
app.base-url=${APP_BASE_URL:http://localhost:8080}
app.upload.dir=${APP_UPLOAD_DIR:uploads/profile-photos}

# ---- Multipart Upload ----
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=${MAX_FILE_SIZE:5MB}
spring.servlet.multipart.max-request-size=${MAX_REQUEST_SIZE:5MB}

# ---- Jackson (JSON) ----
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=America/Bogota

# ---- Actuator ----
management.endpoints.web.base-path=/actuator
management.endpoint.health.enabled=true

# ---- Encoding ----
spring.mandatory-file-encoding=UTF-8
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true
